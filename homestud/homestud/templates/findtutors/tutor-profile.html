{% extends "account/base.html" %}
{% load i18n %}
{% load static %}
{% load extra_template_filters %}
{% block head_title %}
      {{ tutor.get_full_name }}- {{ tutor.address }}
{% endblock head_title %}

{% block content %}
    <div class="prof-header jumbotron">
        <!-- back button -->
        <span class="material-icons back-btn-float" onclick="goBack()">
            keyboard_backspace
        </span>
        <!-- profile picture -->
        <div class="profile-pic">
            {% if  tutor.avatar.url != '' %}
                <img src="{{ tutor.avatar.url }}" alt="{{ tutor.get_full_name }}-homestud-tutor">
            {% else %}
                <img src='{% static "img/avatar/no-avatar.png" %}' alt="{{ tutor.get_full_name }}-homestud-tutor">
            {% endif %}
        </div>
        <p class="prof-name tutor-lead-text">{{ tutor.get_full_name }}</p>
        <div class="call-action">
            <div class="tutor-prof-sticky">
                <div>
                    <p class="lead text-center">&#8373;{{ tutor.rate_per_hour }}<small>/hr</small></p>
                    <p class="mint-text text-center">1st lesson free</p>
                </div>
                <div class="hmst-w-100">
                    <form class="search-form" action="{% url 'chat:get_chat_url' %}" method="get">
                        <input class="d-none" name="target_user" type="text" value="{{ tutor.user.username }}">
                        <button class="btn btn-block semi-round book-a-cls-btn" type="submit">Book a class</button>
                    </form>
                </div>
            </div>
            
            <div style="clear: both;"></div>
        </div>
    </div>
    <!-- Profile details -->
    <div class="container">
        <div class="row jumbotron-bwhite">
            <!-- Side column -->
            <div class="col-sm col-md-4">
                <!-- Education -->
                <div class="card shadow-sm">
                    <div class="card-body">
                        <p class="tutor-lead-text mb-2">Education History</p>
                        <div class="tutor-info-box">
                            <span class="material-icons md-18 text-muted">school</span>
                            <p class="tutor-text ml-3">{{ tutor.school }}</p>
                        </div>
                        <!-- programme of study -->
                        <div class="tutor-info-box">
                            <span class="material-icons md-18 text-muted">local_library</span>
                            <p class="tutor-text ml-3">{{ tutor.programme }}</p>
                        </div>
                        <!-- graduation dates -->
                        <div class="tutor-info-box">
                            <span class="material-icons md-18 text-muted">event</span>
                            <p class="tutor-text ml-3">{{ tutor.start_year }} - {{ tutor.end_year }}</p>
                        </div>
                    </div>
                </div>
                <!-- Lesson details -->
                <div class="card shadow-sm">
                    <div class="card-body">
                        <p class="tutor-lead-text mb-2">Class Type</p>
                        <div class="class-es text-center mt-4">
                            {% for class in tutor.class_type %}
                                
                                {% if class == 'individual' %}
                                <div class="class-type mr-4">
                                    <span class="material-icons" style="font-size: 50px;">person_outline</span>
                                    <p>{{ class|title }}</p>
                                </div> 
                                {% endif %}

                                {% if class == 'group' %}
                                <div class="class-type mr-4">
                                    <span class="material-icons " style="font-size: 50px;">groups</span>
                                    <p>{{ class|title }}</p>
                                </div> 
                                {% endif %}

                                {% if class == 'online' %}
                                <div class="class-type">
                                    <span class="material-icons " style="font-size: 50px;">phonelink</span>
                                    <p>{{ class|title }}</p>
                                </div> 
                                {% endif %}

                            {% endfor %}
                        </div>
                        <!-- programmes -->
                        <div class="course-chips-container mt-4">
                            <p class="tutor-lead-text mb-3">Teaching Programs</p>
                            {% for program in tutor.tutoring_programs %}
                                <div class="course-chips card-sm-txt">{{ program }}</div>
                            {% endfor %}
                        </div>
                        <!-- Courses -->
                        <div class="course-chips-container mt-4">
                            <p class="tutor-lead-text mb-3">Courses</p>
                            {% for course in tutor.courses_subjects %}
                                <div class="course-chips card-sm-txt">{{ course }}</div>
                            {% endfor %}
                        </div>
                        <!-- Levels -->
                        <div class="course-chips-container mt-4">
                            <p class="tutor-lead-text mb-3">Levels</p>
                            {% for level in tutor.teach_levels %}
                                <div class="course-chips card-sm-txt">{{ level }}</div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
            <!-- Bigger column -->
            <div class="col-sm col-md-8">
                        <!-- Bio -->
                <div class="card shadow-sm p-4">
                    <div class="card-body">
                        <p class="tutor-lead-text mb-2">Bio</p>
                        <p class="tutor-text line-breaks break-long-words">{{ tutor.bio }}</p>
                    </div>
                </div>
                    <!-- First Lesson Policy -->
                <div class="card shadow-sm p-4">
                    <div class="card-body">
                        <p class="tutor-lead-text mb-2">Booking Details</p>
                        <p class="tutor-text line-breaks break-long-words"> First {{ tutor.free_lesson_duration }}mins available for free. This will be an introductory and  
                            a get-to-know-each-other lesson. <br>
                            If all goes smoothly, tutoring will begin with agreed upon rates and scheduled days and time.
                        </p>
                    </div>
                </div>
            </div>
            <!-- End of coloumn -->
        </div>
        <!-- End of row -->
    </div>

    <script>
        function goBack(){
            window.history.back();
        }
    </script>
{% endblock content %}
    